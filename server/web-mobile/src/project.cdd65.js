window.__require=function t(e,i,n){function o(s,r){if(!i[s]){if(!e[s]){var a=s.split("/");if(a=a[a.length-1],!e[a]){var h="function"==typeof __require&&__require;if(!r&&h)return h(a,!0);if(c)return c(a,!0);throw new Error("Cannot find module '"+s+"'")}s=a}var u=i[s]={exports:{}};e[s][0].call(u.exports,function(t){return o(e[s][1][t]||t)},u,u.exports,t,e,i,n)}return i[s].exports}for(var c="function"==typeof __require&&__require,s=0;s<n.length;s++)o(n[s]);return o}({Background:[function(t,e,i){"use strict";cc._RF.push(e,"d31ceD2ZzxFCKRogg6Ocfjo","Background"),cc.Class({extends:cc.Component,properties:{speed:150},start:function(){},move:function(t,e){t.x+t.width/2<=-cc.winSize.width/2?t.x+=2*t.width-e:t.x-=e},update:function(t){var e=this;this.node.children.forEach(function(i){e.move(i,t*e.speed)})}}),cc._RF.pop()},{}],Game:[function(t,e,i){"use strict";cc._RF.push(e,"56605Cp7JhMm78bFkUJUKZp","Game");var n=t("Globals");cc.Class({extends:cc.Component,properties:{hero:{default:null,type:cc.Node},score:{default:null,type:cc.Node},music:{default:null,type:cc.AudioClip},sound:{default:null,type:cc.AudioClip}},onLoad:function(){var t=this;this.enabalePhyscis();var e=this.score.getComponent(cc.Label);n.score=0,this.hero.on("score",function(){cc.audioEngine.play(t.sound),++n.score,e.string=n.score.toString()}),this.hero.on("die",function(t){cc.log(t),cc.director.loadScene("Score")})},enabalePhyscis:function(){cc.director.getPhysicsManager().enabled=!0,cc.director.getCollisionManager().enabled=!0},start:function(){}}),cc._RF.pop()},{Globals:"Globals"}],Globals:[function(t,e,i){"use strict";cc._RF.push(e,"95816CiYBxOcrpMQvcSRQBd","Globals"),e.exports={score:0},cc._RF.pop()},{}],Hero:[function(t,e,i){"use strict";cc._RF.push(e,"cfee2Cghp9PuYAzSBUlcQLt","Hero"),cc.Class({extends:cc.Component,properties:{jumpSpeed:cc.v2({x:0,y:300}),maxJumpDistance:300,jumpSprite:{default:null,type:cc.SpriteFrame}},onLoad:function(){var t=this;this.animation=this.node.getComponent(cc.Animation),this.sprite=this.node.getComponent(cc.Sprite),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,function(e){switch(e.keyCode){case cc.macro.KEY.space:t.jumpKeyPressed=!0}}),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,function(e){switch(e.keyCode){case cc.macro.KEY.space:t.jumpKeyPressed=!1,t.isJumping=!1}}),this.node.parent.on(cc.Node.EventType.TOUCH_START,function(){t.jumpKeyPressed=!0}),this.node.parent.on(cc.Node.EventType.TOUCH_END,function(){t.jumpKeyPressed=!1,t.isJumping=!1})},start:function(){this.body=this.getComponent(cc.RigidBody),this.isJumping=!1,this.jumpKeyPressed=!1,this.touching=!1,this.startJumpY=!1},onBeginContact:function(){cc.log("onbegincontact"),this.touching=!0},onEndContact:function(){cc.log("on end contact"),this.touching=!1},onCollisionEnter:function(t,e){"diamond"==t.node.name&&(t.node.destroy(),this.node.emit("score"))},update:function(t){this.jumpKeyPressed&&this.jump(),this.animate(),this.node.y<-cc.winSize.height/2&&this.node.emit("die",{dog:"dog"})},animate:function(){this.touching?this.animation.getAnimationState("running").isPlaying||this.animation.start("running"):this.animation.getAnimationState("running").isPlaying&&(this.animation.stop(),this.sprite.spriteFrame=this.jumpSprite)},jump:function(){if(this.touching)this.startJumpY=this.node.y,this.jumpFinished=!1,this.isJumping=!0,this.body.linearVelocity=this.jumpSpeed;else if(this.isJumping&&!this.jumpFinished){this.node.y-this.startJumpY<this.maxJumpDistance?this.body.linearVelocity=this.jumpSpeed:this.jumpFinished=!0}}}),cc._RF.pop()},{}],Platforms:[function(t,e,i){"use strict";cc._RF.push(e,"dda537oG3xJ0LtjktjOgCtI","Platforms"),cc.Class({extends:cc.Component,properties:{xOffsetMin:60,xOffsetMax:200,yOffsetMin:-120,yOffsetMax:120,tilesCountMin:2,tilesCountMax:6,platform:{default:null,type:cc.Prefab}},generateRandomData:function(){var t={tilesCount:0,x:0,y:0},e=this.xOffsetMin+Math.random()*(this.xOffsetMax-this.xOffsetMin),i=this.yOffsetMin+Math.random()*(this.yOffsetMax-this.yOffsetMin);t.x=this.currentplatform.node.x+this.currentplatform.node.width+e;var n=this.currentplatform.node.y+i,o=cc.winSize.height/2,c=-cc.winSize.height/2;return n=Math.min(n,o-2*this.currentplatform.node.height),n=Math.max(n,c+this.currentplatform.node.height),t.y=n,t.tilesCount=this.tilesCountMin+Math.floor(Math.random()*(this.tilesCountMax-this.tilesCountMin)),t},start:function(){this.platforms=[],this.createPlatform({tilesCount:4,x:-200,y:-200})},createPlatform:function(t){t||(t=this.generateRandomData());var e=this.platforms.find(function(t){return!t.active});if(e)cc.log("reuse"),this.currentplatform=e;else{cc.log("create");var i=cc.instantiate(this.platform);this.node.addChild(i),this.currentplatform=i.getComponent("Platform"),this.platforms.push(this.currentplatform)}this.currentplatform.init(t.tilesCount,t.x,t.y)},update:function(t){var e=cc.winSize.width/2;this.currentplatform.node.x+this.currentplatform.node.width<e&&(this.createPlatform(),cc.log(this.platforms.length))}}),cc._RF.pop()},{}],Platform:[function(t,e,i){"use strict";cc._RF.push(e,"38c84U2V11Lo6ReijhPH9qb","Platform");cc.Class({extends:cc.Component,properties:{tile:{default:null,type:cc.Prefab},diamond:{default:null,type:cc.Prefab},coinsOffsetMin:100,coinsOffsetMax:200},start:function(){},init:function(t,e,i){this.active=!0,this.node.removeAllChildren(),this.node.setPosition(cc.v2(e,i));for(var n=0;n<t;n++){var o=cc.instantiate(this.tile);this.node.addChild(o),o.setPosition(n*o.width,0)}this.node.width=64*t,this.node.height=64;var c=this.node.getComponent(cc.PhysicsBoxCollider);c.size.width=this.node.width,c.size.height=this.node.height,c.offset.x=this.node.width/2-32,c.apply(),this.createDiamonds()},createDiamonds:function(){var t=this,e=this.coinsOffsetMin+Math.random()*(this.coinsOffsetMax-this.coinsOffsetMin);this.node.children.forEach(function(i){if(Math.random()<=.4){var n=cc.instantiate(t.diamond);i.addChild(n),n.setPosition(0,e)}})},update:function(t){this.active&&(this.node.x-=150*t,this.node.x+this.node.width<-cc.winSize.width/2&&(this.active=!1,cc.log("kill")))}}),cc._RF.pop()},{}],Score:[function(t,e,i){"use strict";cc._RF.push(e,"0d6faCDH0VL05XbtVxxr/O4","Score");var n=t("Globals");cc.Class({extends:cc.Component,properties:{scoreLabel:{default:null,type:cc.Label}},onLoad:function(){},start:function(){this.scoreLabel.string="Score: ".concat(n.score.toString()),this.node.on(cc.Node.EventType.TOUCH_END,function(){cc.director.loadScene("game")})}}),cc._RF.pop()},{Globals:"Globals"}],"use_v2.0.x_cc.Toggle_event":[function(t,e,i){"use strict";cc._RF.push(e,"29719QztUJOAZQSdm1eV4kV","use_v2.0.x_cc.Toggle_event"),cc.Toggle&&(cc.Toggle._triggerEventInScript_check=!0),cc._RF.pop()},{}]},{},["use_v2.0.x_cc.Toggle_event","Background","Game","Globals","Hero","Platform","Platforms","Score"]);